{% set title = "Project Statistics" %}
{% extends 'base.html' %}

{% block content %}


        {% if projects_exist %}
            <!-- <h2 class="mb-4">Project Statistics Overview</h2> -->
            <div class="row">
                <div class="col-md-6 col-lg-3 mb-3">
                    <div class="card text-white bg-primary">
                        <div class="card-body">
                            <h5 class="card-title">Average Length</h5>
                            <p class="card-text">{{ average_length|round(2) }} characters</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3 mb-3">
                    <div class="card text-white bg-success">
                        <div class="card-body">
                            <h5 class="card-title">Median Length</h5>
                            <p class="card-text">{{ median_length|round(2) }} characters</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3 mb-3">
                    <div class="card text-white bg-info">
                        <div class="card-body">
                            <h5 class="card-title">Maximum Length</h5>
                            <p class="card-text">{{ max_length|round(2) }} characters</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3 mb-3">
                    <div class="card text-white bg-warning">
                        <div class="card-body">
                            <h5 class="card-title">Minimum Length</h5>
                            <p class="card-text">{{ min_length|round(2) }} characters</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card mt-4">
                <div class="card-body">
                    <h5 class="card-title">Total Length of All Projects</h5>
                    <p class="card-text">{{ total_length|round(2) }} characters</p>
                </div>
            </div>
  
            

                <!-- New Section: Projects Per Month -->
                <div class="col-12 my-3">
                    <div class="card h-100">
                        <div class="card-header bg-secondary text-white">
                            Projects Per Month
                        </div>
                        <ul class="list-group list-group-flush">
                            {% for year, month, count in projects_per_month %}
                                <li class="list-group-item">{{ year }}-{{ '%02d'|format(month) }}: {{ count }} projects</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>

                <!-- New Section: Recent Projects -->
                <div class="col-12 my-3">
                    <div class="card h-100">
                        <div class="card-header bg-secondary text-white">
                            Recent Projects
                        </div>
                        <ul class="list-group list-group-flush">
                            {% for project in recent_projects %}
                                <li class="list-group-item">{{ project.name }} - Created on {{ project.created_at.strftime('%Y-%m-%d') }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        {% else %}
            <div class="alert alert-info" role="alert">
                No projects yet!
            </div>
        {% endif %}
    </div>
{% endblock %}






